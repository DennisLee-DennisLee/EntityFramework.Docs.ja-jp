---
title: パッケージ マネージャー コンソール (Visual Studio) - EF Core
author: bricelam
ms.author: bricelam
ms.date: 11/6/2017
ms.technology: entity-framework-core
ms.openlocfilehash: 0799b0cb7c5d837fdbb7a4af510a9a4d9d34ec1a
ms.sourcegitcommit: bdd06c9a591ba5e6d6a3ec046c80de98f598f3f3
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/10/2018
ms.locfileid: "37949039"
---
<a name="ef-core-package-manager-console-tools"></a>EF Core パッケージ マネージャー コンソール ツール
=====================================
NuGet を使用して Visual Studio 内での EF Core パッケージ マネージャー コンソール (PMC) ツールの実行[パッケージ マネージャー コンソール][2]します。
これらのツールは、.NET Framework プロジェクトと .NET Core プロジェクトの両方に使えます。

> [!TIP]
> Visual Studio を使用していないか。 [EF Core コマンド ライン ツール][ 1]クロスプラット フォームであり、コマンド プロンプト内で実行します。

<a name="installing-the-tools"></a>ツールのインストール
--------------------
Microsoft.EntityFrameworkCore.Tools NuGet パッケージをインストールすることで、EF Core パッケージ マネージャー コンソールのツールをインストールします。
内で次のコマンドを実行してインストールすることができます[パッケージ マネージャー コンソール][2]します。

``` powershell
Install-Package Microsoft.EntityFrameworkCore.Tools
```

すべて正常である場合は、このコマンドを実行できる必要があります。

``` powershell
Get-Help about_EntityFrameworkCore
```
> [!TIP]
> スタートアップ プロジェクトが .NET Standard を対象とする場合[クロス ターゲット フレームワークがサポートされている][ 3]ツールを使用する前にします。

> [!IMPORTANT]
> 使用している場合**ユニバーサル Windows**または**Xamarin**、EF コードを .NET Standard クラス ライブラリに移動し、[クロス ターゲット フレームワークがサポートされている][ 3]ツールを使用する前にします。 スタートアップ プロジェクトとして、クラス ライブラリを指定します。

<a name="using-the-tools"></a>ツールを使用します。
---------------
コマンドを呼び出すたびにある 2 つのプロジェクト関係します。

ターゲット プロジェクトでは、ファイルが追加されます (削除される場合もあります)。 ターゲット プロジェクトの既定値、**既定のプロジェクト**パッケージ マネージャー コンソールで、選択されているを使用して指定できますが、プロジェクト パラメーターです。

スタートアップ プロジェクトは、プロジェクトのコードを実行したとき、ツールによってエミュレートされるプロジェクトです。 いずれかに既定で**スタートアップ プロジェクトとして設定**ソリューション エクスプ ローラーでします。 指定できます - スタートアップ プロジェクトのパラメーターを使用します。

一般的なパラメーター:

|                           |                             |
|:--------------------------|:----------------------------|
| -Context \<String>        | 使用する DbContext します。       |
| -Project \<String>        | 使用するプロジェクトです。         |
| -StartupProject \<String> | 使用するスタートアップ プロジェクトです。 |
| -Verbose                  | 詳細な出力を表示します。        |

コマンドに関するヘルプ情報を表示するには、PowerShell を使用して`Get-Help`コマンド。

> [!TIP]
> コンテキスト、プロジェクト、およびスタートアップ プロジェクトのパラメーターでは、タブ拡張をサポートします。

> [!TIP]
> 設定**env:ASPNETCORE_ENVIRONMENT** ASP.NET Core 環境を指定して実行する前にします。

<a name="commands"></a>コマンド
--------

### <a name="add-migration"></a>追加の移行

新しい移行を追加します。

パラメーター:

|                                   |                                                                                                                  |
|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------|
| ***-Name*** \<文字列 >             | 移行の名前。                                                                                       |
| <nobr>-OutputDir\<文字列 ></nobr> | 使用するディレクトリ (およびサブ名前空間)。 パスでは、プロジェクト ディレクトリに対して相対的です。 既定値は「移行」です。 |

> [!NOTE]
> パラメーター**太字**が必要なもので、*斜体*は位置指定します。

### <a name="drop-database"></a>データベースの削除

データベースを削除します。

パラメーター:

|         |                                                          |
|:--------|:---------------------------------------------------------|
| -WhatIf | 表示するデータベースが削除されます。 は削除しないでください。 |

### <a name="get-dbcontext"></a>Get-DbContext

DbContext 型に関する情報を取得します。

### <a name="remove-migration"></a>Remove-Migration

最後の移行を削除します。

パラメーター:

|        |                                                              |
|:-------|:-------------------------------------------------------------|
| -Force | データベースに適用されている場合は、移行を戻します。 |

### <a name="scaffold-dbcontext"></a>Scaffold-dbcontext

データベースの DbContext とエンティティ型をスキャフォールディングします。

パラメーター:

|                                          |                                                                                                  |
|:-----------------------------------------|:-------------------------------------------------------------------------------------------------|
| <nobr>***の接続***\<文字列 ></nobr> | データベースへの接続文字列。                                                           |
| ***プロバイダー*** \<文字列 >                | 使用するプロバイダー。 (たとえば、Microsoft.EntityFrameworkCore.SqlServer)                      |
| -OutputDir\<文字列 >                     | ファイルを配置するディレクトリ。 パスでは、プロジェクト ディレクトリに対して相対的です。                      |
| -ContextDir\<文字列 >                    | DbContext のファイルを配置するディレクトリ。 パスでは、プロジェクト ディレクトリに対して相対的です。             |
| -Context \<String>                       | 生成する DbContext の名前。                                                           |
| -Schemas \<String[]>                     | エンティティ型を生成するテーブルのスキーマです。                                              |
| -Tables \<String[]>                      | エンティティ型を生成するテーブル。                                                         |
| -DataAnnotations                         | 属性を使用すると、可能な限り、モデルを構成できます。 省略した場合、fluent API のみが使用されます。 |
| -UseDatabaseNames                        | データベースから直接テーブルおよび列名を使用します。                                           |
| -Force                                   | 既存のファイルを上書きします。                                                                        |

### <a name="script-migration"></a>スクリプトの移行

移行には、SQL スクリプトを生成します。

パラメーター:

|                   |                                                                    |
|:------------------|:-------------------------------------------------------------------|
| *-から*\<文字列 > | 開始の移行。 既定値は 0 (最初のデータベース) です。      |
| *-* \<文字列 >   | 終了の移行。 移行の最後の既定値します。              |
| -Idempotent       | すべての移行でのデータベースで使用できるスクリプトを生成します。 |
| -出力\<文字列 > | 結果を書き込むファイル。                                   |

> [!TIP]
> および出力パラメーターは、タブ拡張をサポートします。

### <a name="update-database"></a>データベースの更新

|                                     |                                                                                                |
|:------------------------------------|:-----------------------------------------------------------------------------------------------|
| <nobr>*-移行*\<文字列 ></nobr> | Target の移行。 '0' の場合、すべての移行は戻されます。 移行の最後の既定値します。 |

> [!TIP]
> 移行のパラメーターは、タブ拡張をサポートします。


  [1]: dotnet.md
  [2]: https://docs.microsoft.com/nuget/tools/package-manager-console
  [3]: index.md#frameworks
